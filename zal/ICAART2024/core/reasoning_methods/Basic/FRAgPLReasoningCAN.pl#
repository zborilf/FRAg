%
% Reasoning methods - the simple ones
% Frantisek Zboril jr. 2022 - 2023
%

%
% Should define
%    get_plan(+Reasoning_type, +Event, +RelAppPlans, -IntendedMeans).
%
% not defined for:
%    get_substitution(+Reasoning_type, +ActionTerm, +SubstitutionList,
%		      +VariableList, -SubstitutionList).
%				 get_intention(+Reasoning_type, +Intentions, -Intention).
%			if required, 'simple_reasoning' will be used.
%



  reasoning_method(can_reasoning).


% First active

  %
  %  Takes the first active intention
  %

  get_intention(can_reasoning, [intention(INDEX, CONTENT, active)| _ ],
		intention(INDEX, CONTENT, active)).

  get_intention(can_reasoning, [ _ | Intentions], Intention_Out):-
	get_intention(simple_reasoning, Intentions, Intention_Out).


  get_substitution(can_reasoning, _, [Context| _ ], Variables, Context_Out):-
	shorting(Context, Variables, Context_Out).	% from file FRAgPLFRAg

  % prvni plan jeste nebyl pouzit


   check_used( _ , _ ).

%  check_used([ used_plan(PLANINDEX, _ , _ , PLANCONTEXT) | _], ??INTENDEDMEANS):-


%  check_used([ _ | TUSEDMEANS], INTENDEDMEANS):-
%	check_used(TUSEDMEANS, INTENDEDMEANS).


  get_plan(can_reasoning, event( _ , _ , _ , _ , _ , _ , Used_Means),
	   [ _ | Means], Intended_Means):-
	format(atom(STRING), "[CANDBG] ~w", [Used_Means]),
	println_debug(STRING, candbg),
	check_used(Used_Means, INTENDEDMEANS),
	get_plan(can_reasoning, _ , Means, INTENDEDMEANS).

  get_plan(can_reasoning, _, [INTENDEDMEANS| _ ], INTENDEDMEANS).

  update_model(can_reasoning).

  init_reasoning(can_reasoning).

